@page
@model Web.Pages.Candidate.Shoreside.SimilarListModel
@inject IViewLocalizer Localizer
@{
    var isEnglish = System.Threading.Thread.CurrentThread.CurrentCulture.TwoLetterISOLanguageName == "en";
    var countmessage = Model.Positions.Length != 1 ? "POSITIONS" : "POSITION";
}

<div class="col-md-12 mrgn-tp-md mrgn-bttm-md">
    <a href="@Url.Action("SimilarListCandidate","ToPdf", new { id = Model.PositionIds, language = System.Threading.Thread.CurrentThread.CurrentCulture.TwoLetterISOLanguageName})"><span class="glyphicon glyphicon-print pull-right mrgn-lft-md" alt="Print document"></span> </a>
    <a href="@Url.Action("SimilarListCandidate","ToPdf", new { id = Model.PositionIds, language = System.Threading.Thread.CurrentThread.CurrentCulture.TwoLetterISOLanguageName})"><span class="glyphicon glyphicon-save pull-right" alt="Save document"></span> </a>
</div>
<div class="mrgn-tp-lg">
    <h3 class="text-center">@(isEnglish ? Model.JobGroup.NameEng : Model.JobGroup.NameFre) (@Model.JobGroup.Code)</h3>
    <h5>@Model.Positions.Length @Localizer[countmessage]</h5>
    <table class="table table-hover table-responsive table-bordered">
        <thead>
            <tr>
                <th class="bg-primary" width="15%">@Localizer["LEVEL"]</th>
                <th class="bg-primary" width="75%">@Localizer["POSITION"]</th>
                <th class="bg-primary" width="10%"></th>
            </tr>
        </thead>
        <tbody>

            @foreach (var position in Model.Positions)
            {
                var routedata = new Dictionary<string, string>
                 {
                    {"previouspage", "SimilarList" },
                    {"id", Model.Id },
                    {"positionid",  position.JobTitleId.ToString()},
                 };

                <tr>
                    <td>@position.JobGroupCode-@position.JobLevelValue</td>
                    <td>@(isEnglish? position.JobTitleEng: position.JobTitleFre)</td>
                    <td><a asp-page="SimilarDetails" asp-all-route-data="@routedata" role="button">@Localizer["More Details"]</a></td>
                </tr>
            }
        </tbody>
    </table>
</div>
<div class="row">
    <div class="col-lg-12 mrgn-tp-md">
        <nav role="navigation" class="mrgn-bttm-lg">
            <h2 class="wb-inv">Document navigation</h2>
            <ul class="pager">
                <li class="previous"><a class="btn btn-default" type="button" rel="prev" asp-page="AllCandidateShoreside">@Localizer["Previous"]</a></li>
            </ul>
        </nav>
    </div>
</div>